{"ast":null,"code":"import { Driver } from 'src/app/models/Driver';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/Driver.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = [\"driverForm\"];\nfunction AddDriverComponent_div_2_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1, \" First Name is Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddDriverComponent_div_2_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1, \" Last Name is Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddDriverComponent_div_2_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1, \" Email is Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddDriverComponent_div_2_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1, \" Phone Number is Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"border-red\": a0\n  };\n};\nfunction AddDriverComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\", null, 7)(3, \"div\", 8)(4, \"label\", 9);\n    i0.ɵɵtext(5, \"First Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function AddDriverComponent_div_2_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.drivers.firstName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, AddDriverComponent_div_2_div_7_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 8)(9, \"label\", 12);\n    i0.ɵɵtext(10, \"Last Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function AddDriverComponent_div_2_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.drivers.lastName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, AddDriverComponent_div_2_div_12_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 8)(14, \"label\", 14);\n    i0.ɵɵtext(15, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function AddDriverComponent_div_2_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.drivers.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, AddDriverComponent_div_2_div_17_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 8)(19, \"label\", 16);\n    i0.ɵɵtext(20, \"Phone Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function AddDriverComponent_div_2_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.drivers.phoneNumber = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, AddDriverComponent_div_2_div_22_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function AddDriverComponent_div_2_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.savedrivers());\n    });\n    i0.ɵɵtext(24, \"Submit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(2);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.drivers.firstName)(\"ngClass\", i0.ɵɵpureFunction1(12, _c1, _r4.submitted && (_r4[\"controls\"].firstName.errors == null ? null : _r4[\"controls\"].firstName.errors.required)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (_r4[\"controls\"].firstName == null ? null : _r4[\"controls\"].firstName.touched) && (_r4[\"controls\"].firstName.errors == null ? null : _r4[\"controls\"].firstName.errors.required));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.drivers.lastName)(\"ngClass\", i0.ɵɵpureFunction1(14, _c1, _r4.submitted && (_r4[\"controls\"].lastName.errors == null ? null : _r4[\"controls\"].lastName.errors.required)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (_r4[\"controls\"].lastName == null ? null : _r4[\"controls\"].lastName.touched) && (_r4[\"controls\"].lastName.errors == null ? null : _r4[\"controls\"].lastName.errors.required));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.drivers.email)(\"ngClass\", i0.ɵɵpureFunction1(16, _c1, _r4.submitted && (_r4[\"controls\"].email.errors == null ? null : _r4[\"controls\"].email.errors.required)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (_r4[\"controls\"].email == null ? null : _r4[\"controls\"].email.touched) && (_r4[\"controls\"].email.errors == null ? null : _r4[\"controls\"].email.errors.required));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.drivers.phoneNumber)(\"ngClass\", i0.ɵɵpureFunction1(18, _c1, (_r4 == null ? null : _r4.submitted) && (_r4[\"controls\"].phoneNumber.errors == null ? null : _r4[\"controls\"].phoneNumber.errors.required)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (_r4[\"controls\"].phoneNumber == null ? null : _r4[\"controls\"].phoneNumber.touched) && (_r4[\"controls\"].phoneNumber.errors == null ? null : _r4[\"controls\"].phoneNumber.errors.required));\n  }\n}\nfunction AddDriverComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Mobile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"DOB\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"isActive\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Action\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"inActive\": a0\n  };\n};\nconst _c3 = function (a1) {\n  return [\"/update-user\", a1];\n};\nfunction AddDriverComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 20)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵelement(13, \"a\", 21);\n    i0.ɵɵelementStart(14, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function AddDriverComponent_ng_template_6_Template_a_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const user_r15 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.remove(user_r15.id));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c2, user_r15.isActive == false));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r15.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r15.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r15.mobile);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 7, user_r15.dob, \"d/M/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r15.isActive);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c3, user_r15.id));\n  }\n}\nconst _c4 = function () {\n  return [\"/add-user\"];\n};\nfunction AddDriverComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 23);\n    i0.ɵɵtext(1, \"Add New\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c4));\n  }\n}\nconst _c5 = function () {\n  return [10, 25, 50];\n};\nexport class AddDriverComponent {\n  constructor(driverservice, activeRoute, router) {\n    this.driverservice = driverservice;\n    this.activeRoute = activeRoute;\n    this.router = router;\n    this.IsNew = true;\n    this.drivers = {\n      id: '',\n      firstName: '',\n      lastName: '',\n      email: '',\n      phoneNumber: ''\n    };\n    this.submitted = false;\n    activeRoute.params.subscribe(params => {\n      this.id = params['id'];\n      if (this.id) {\n        console.log(this.id);\n        this.IsNew = false;\n        this.driverservice.get(this.id).subscribe(a => {\n          console.log(a.result);\n          if (a.isSuccess) {\n            console.log(a.result);\n            this.drivers = a.result || new Driver();\n            this.id = a.result?.id;\n          } else {\n            alert(a.errorMessages);\n          }\n        });\n      }\n      console.log(this.id);\n    });\n  }\n  ngOnInit() {}\n  savedrivers() {\n    console.log(this.DriverForm?.form.value);\n    if (this.DriverForm?.valid) {\n      if (!this.id) {\n        console.log(\"create\");\n        console.log();\n        this.driverservice.create(this.drivers).subscribe(response => {\n          console.log(response);\n          if (response.isSuccess) {\n            this.submitted = true;\n            this.router.navigate(['/drivers']);\n          } else {\n            alert(response.errorMessages);\n          }\n        }, error => {\n          console.log(error);\n        });\n      } else {\n        //update\n        console.log(\"update\");\n        this.driverservice.update(this.id, this.drivers).subscribe(response => {\n          console.log(response);\n          if (response.isSuccess) {\n            this.submitted = true;\n            this.router.navigate(['/drivers']);\n          } else {\n            alert(response.errorMessages);\n          }\n        }, error => {\n          console.log(error);\n        });\n      }\n    } else {\n      console.log(this.DriverForm);\n    }\n  }\n  updatedrivers() {}\n  newdrivers() {\n    this.submitted = false;\n  }\n}\nAddDriverComponent.ɵfac = function AddDriverComponent_Factory(t) {\n  return new (t || AddDriverComponent)(i0.ɵɵdirectiveInject(i1.DriverService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nAddDriverComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddDriverComponent,\n  selectors: [[\"app-add-driver\"]],\n  viewQuery: function AddDriverComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.DriverForm = _t.first);\n    }\n  },\n  decls: 8,\n  vars: 7,\n  consts: [[1, \"submit-form\"], [4, \"ngIf\"], [1, \"container\", 2, \"margin-top\", \"20px\"], [\"responsiveLayout\", \"scroll\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"paginator\", \"rows\", \"showCurrentPageReport\", \"rowsPerPageOptions\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"paginatorleft\"], [\"driverForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"firstName\"], [\"id\", \"firstName\", \"required\", \"\", \"name\", \"firstName\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"lastName\"], [\"type\", \"text\", \"id\", \"lastName\", \"required\", \"\", \"name\", \"lastName\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"for\", \"description\"], [\"id\", \"email\", \"required\", \"\", \"name\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"for\", \"phoneNumber\"], [\"id\", \"description\", \"required\", \"\", \"name\", \"phoneNumber\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"text-danger\"], [3, \"ngClass\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-user-edit\", 1, \"p-button-rounded\", 3, \"routerLink\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-trash\", 1, \"p-button-rounded\", 2, \"margin-left\", \"5px\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"]],\n  template: function AddDriverComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0);\n      i0.ɵɵtemplate(2, AddDriverComponent_div_2_Template, 25, 20, \"div\", 1);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"p-table\", 3);\n      i0.ɵɵtemplate(5, AddDriverComponent_ng_template_5_Template, 13, 0, \"ng-template\", 4);\n      i0.ɵɵtemplate(6, AddDriverComponent_ng_template_6_Template, 15, 14, \"ng-template\", 5);\n      i0.ɵɵtemplate(7, AddDriverComponent_ng_template_7_Template, 2, 2, \"ng-template\", 6);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.submitted);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.userList)(\"paginator\", true)(\"rows\", 10)(\"showCurrentPageReport\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(6, _c5));\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i3.DatePipe],\n  styles: [\".submit-form[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  margin: auto;\\n}\\n\\n.border-red[_ngcontent-%COMP%] {\\n  border-color: red;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZGQtZHJpdmVyL2FkZC1kcml2ZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBQTtFQUNBLFlBQUE7QUFDSjs7QUFDRTtFQUNFLGlCQUFBO0FBRUoiLCJzb3VyY2VzQ29udGVudCI6WyIuc3VibWl0LWZvcm0ge1xyXG4gICAgbWF4LXdpZHRoOiA0MDBweDtcclxuICAgIG1hcmdpbjogYXV0bztcclxuICB9XHJcbiAgLmJvcmRlci1yZWR7XHJcbiAgICBib3JkZXItY29sb3I6IHJlZDtcclxuICB9XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAGA,SAASA,MAAM,QAAQ,uBAAuB;;;;;;;;;ICaxCC,+BAA8H;IAC5HA,wCACD;IAAAA,iBAAM;;;;;IAcPA,+BAA4H;IAC1HA,uCACD;IAAAA,iBAAM;;;;;IAaPA,+BAAsH;IACpHA,mCACD;IAAAA,iBAAM;;;;;IAaPA,+BAAkI;IAChIA,0CACD;IAAAA,iBAAM;;;;;;;;;;;IA9DTA,2BAAwB;IAICA,0BAAU;IAAAA,iBAAQ;IACzCA,iCAQE;IAJAA;MAAAA;MAAA;MAAA,OAAaA,iDAChB;IAAA,EADkC;IAJjCA,iBAQE;IACFA,0EAEO;IACTA,iBAAM;IACNA,8BAAwB;IACAA,0BAAS;IAAAA,iBAAQ;IACvCA,kCASE;IAJAA;MAAAA;MAAA;MAAA,OAAaA,iDAChB;IAAA,EADiC;IALhCA,iBASE;IACFA,4EAEO;IACTA,iBAAM;IACNA,+BAAwB;IACGA,sBAAK;IAAAA,iBAAQ;IACtCA,kCAQE;IAJAA;MAAAA;MAAA;MAAA,OAAaA,8CAChB;IAAA,EAD8B;IAJ7BA,iBAQE;IACFA,4EAEO;IACTA,iBAAM;IACNA,+BAAwB;IACGA,6BAAa;IAAAA,iBAAQ;IAC9CA,kCAQE;IAJAA;MAAAA;MAAA;MAAA,OAAaA,oDAChB;IAAA,EADoC;IAJnCA,iBAQE;IACFA,4EAEO;IACTA,iBAAM;IAERA,mCAAuE;IAAhDA;MAAAA;MAAA;MAAA,OAASA,oCAAa;IAAA,EAAC;IAAyBA,uBAAM;IAAAA,iBAAS;;;;;IAxDhFA,eAA+B;IAA/BA,kDAA+B;IAK3BA,eAAkG;IAAlGA,sMAAkG;IAWtGA,eAA8B;IAA9BA,iDAA8B;IAK1BA,eAAgG;IAAhGA,kMAAgG;IAUpGA,eAA2B;IAA3BA,8CAA2B;IAKvBA,eAA0F;IAA1FA,sLAA0F;IAU9FA,eAAiC;IAAjCA,oDAAiC;IAK7BA,eAAsG;IAAtGA,8MAAsG;;;;;IAkBxGA,0BAAI;IACIA,oBAAI;IAAAA,iBAAK;IACbA,0BAAI;IAAAA,qBAAK;IAAAA,iBAAK;IACdA,0BAAI;IAAAA,sBAAM;IAAAA,iBAAK;IACfA,0BAAI;IAAAA,mBAAG;IAAAA,iBAAK;IACZA,0BAAI;IAAAA,yBAAQ;IAAAA,iBAAK;IACjBA,2BAAI;IAAAA,uBAAM;IAAAA,iBAAK;;;;;;;;;;;;;;IAInBA,8BAAqD;IAC7CA,YAAa;IAAAA,iBAAK;IACtBA,0BAAI;IAAAA,YAAc;IAAAA,iBAAK;IACvBA,0BAAI;IAAAA,YAAe;IAAAA,iBAAK;IACxBA,0BAAI;IAAAA,YAA8B;;IAAAA,iBAAK;IACvCA,2BAAI;IAAAA,aAAiB;IAAAA,iBAAK;IAC1BA,2BAAI;IACAA,yBACiC;IACjCA,8BACgD;IADfA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAe;IAAA,EAAC;IACVA,iBAAI;;;;IAVxDA,iFAAgD;IAC5CA,eAAa;IAAbA,mCAAa;IACbA,eAAc;IAAdA,oCAAc;IACdA,eAAe;IAAfA,qCAAe;IACfA,eAA8B;IAA9BA,oEAA8B;IAC9BA,eAAiB;IAAjBA,uCAAiB;IAEgBA,eAAuC;IAAvCA,qEAAuC;;;;;;;;IAQhFA,6BAAwD;IAAAA,uBAAO;IAAAA,iBAAI;;;IAAhEA,uDAA4B;;;;;;AD9FzC,OAAM,MAAOC,kBAAkB;EAa5BC,YAAoBC,aAA4B,EAASC,WAA2B,EAASC,MAAa;IAAtF,kBAAa,GAAbF,aAAa;IAAwB,gBAAW,GAAXC,WAAW;IAAyB,WAAM,GAANC,MAAM;IAXpG,UAAK,GAAS,IAAI;IAEjB,YAAO,GAAW;MACfC,EAAE,EAAC,EAAE;MACNC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAC;KACX;IACH,cAAS,GAAG,KAAK;IAGfN,WAAW,CAACO,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACvC,IAAI,CAACL,EAAE,GAACK,MAAM,CAAC,IAAI,CAAC;MACpB,IAAG,IAAI,CAACL,EAAE,EAAC;QACTO,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,EAAE,CAAC;QAErB,IAAI,CAACS,KAAK,GAAC,KAAK;QACjB,IAAI,CAACZ,aAAa,CAACa,GAAG,CAAC,IAAI,CAACV,EAAE,CAAC,CAACM,SAAS,CAACK,CAAC,IAAE;UAC3CJ,OAAO,CAACC,GAAG,CAACG,CAAC,CAACC,MAAM,CAAC;UACrB,IAAGD,CAAC,CAACE,SAAS,EAAC;YAEbN,OAAO,CAACC,GAAG,CAACG,CAAC,CAACC,MAAM,CAAC;YAEvB,IAAI,CAACE,OAAO,GAACH,CAAC,CAACC,MAAM,IAAE,IAAInB,MAAM,EAAE;YACnC,IAAI,CAACO,EAAE,GAACW,CAAC,CAACC,MAAM,EAAEZ,EAAE;WACnB,MACD;YACEe,KAAK,CAACJ,CAAC,CAACK,aAAa,CAAC;;QAE1B,CAAC,CAAC;;MAEFT,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,EAAE,CAAC;IAEnB,CAAC,CAAC;EACH;EAEDiB,QAAQ,IACR;EAEAC,WAAW;IACVX,OAAO,CAACC,GAAG,CAAC,IAAI,CAACW,UAAU,EAAEC,IAAI,CAACC,KAAK,CAAC;IAEvC,IAAG,IAAI,CAACF,UAAU,EAAEG,KAAK,EAAC;MACzB,IAAG,CAAC,IAAI,CAACtB,EAAE,EAAC;QACVO,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QACrBD,OAAO,CAACC,GAAG,EAAE;QAGhB,IAAI,CAACX,aAAa,CAAC0B,MAAM,CAAC,IAAI,CAACT,OAAO,CAAC,CACpCR,SAAS,CACRkB,QAAQ,IAAG;UACTjB,OAAO,CAACC,GAAG,CAACgB,QAAQ,CAAC;UACrB,IAAGA,QAAQ,CAACX,SAAS,EACrB;YACC,IAAI,CAACY,SAAS,GAAG,IAAI;YAErB,IAAI,CAAC1B,MAAM,CAAC2B,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;WAClC,MAED;YACCX,KAAK,CAACS,QAAQ,CAACR,aAAa,CAAC;;QAIhC,CAAC,EACDW,KAAK,IAAG;UACNpB,OAAO,CAACC,GAAG,CAACmB,KAAK,CAAC;QACpB,CAAC,CAAC;OACF,MAAI;QACH;QACApB,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QACrB,IAAI,CAACX,aAAa,CAAC+B,MAAM,CAAC,IAAI,CAAC5B,EAAE,EAAC,IAAI,CAACc,OAAO,CAAC,CAC9CR,SAAS,CACRkB,QAAQ,IAAG;UACTjB,OAAO,CAACC,GAAG,CAACgB,QAAQ,CAAC;UACrB,IAAGA,QAAQ,CAACX,SAAS,EACrB;YACA,IAAI,CAACY,SAAS,GAAG,IAAI;YACrB,IAAI,CAAC1B,MAAM,CAAC2B,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;WACjC,MACD;YACEX,KAAK,CAACS,QAAQ,CAACR,aAAa,CAAC;;QAEjC,CAAC,EACDW,KAAK,IAAG;UACNpB,OAAO,CAACC,GAAG,CAACmB,KAAK,CAAC;QACpB,CAAC,CAAC;;KAEL,MAAI;MACJpB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACW,UAAU,CAAC;;EAGlC;EACAU,aAAa,IAAG;EAChBC,UAAU;IACR,IAAI,CAACL,SAAS,GAAG,KAAK;EAExB;;AApGU9B,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAoC;EAAAC;IAAA;;;;;;;;;;;;;MCX/BtC,2BAAK;MAEDA,qEAsEM;MACRA,iBAAM;MAERA,8BAAiD;MAI3CA,oFASc;MACdA,qFAcc;MACdA,mFAEc;MAClBA,iBAAU;;;MAzGFA,eAAgB;MAAhBA,qCAAgB;MA0EfA,eAAkB;MAAlBA,oCAAkB","names":["Driver","i0","AddDriverComponent","constructor","driverservice","activeRoute","router","id","firstName","lastName","email","phoneNumber","params","subscribe","console","log","IsNew","get","a","result","isSuccess","drivers","alert","errorMessages","ngOnInit","savedrivers","DriverForm","form","value","valid","create","response","submitted","navigate","error","update","updatedrivers","newdrivers","selectors","viewQuery"],"sourceRoot":"","sources":["E:\\transflow\\TransfloAssesmentFront\\src\\app\\components\\add-driver\\add-driver.component.ts","E:\\transflow\\TransfloAssesmentFront\\src\\app\\components\\add-driver\\add-driver.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Driver } from 'src/app/models/Driver';\r\nimport { DriverService } from 'src/app/services/Driver.service';\r\n\r\n@Component({\r\n  selector: 'app-add-driver',\r\n  templateUrl: './add-driver.component.html',\r\n  styleUrls: ['./add-driver.component.scss']\r\n})\r\nexport class AddDriverComponent implements OnInit {\r\n  @ViewChild('driverForm') DriverForm?: NgForm;\r\n  IsNew:boolean=true;\r\n  id:any;\r\n   drivers: Driver = {\r\n      id:'',\r\n     firstName: '',\r\n     lastName: '',\r\n     email: '',\r\n     phoneNumber:''\r\n     };\r\n   submitted = false;\r\n \r\n   constructor(private driverservice: DriverService,private activeRoute: ActivatedRoute,private router:Router) {\r\n     activeRoute.params.subscribe(params => {\r\n    this.id=params['id'];\r\n    if(this.id){\r\n      console.log(this.id);\r\n      \r\n     this.IsNew=false;\r\n    this.driverservice.get(this.id).subscribe(a=>{\r\n      console.log(a.result);\r\n      if(a.isSuccess){\r\n\r\n        console.log(a.result);\r\n\r\n      this.drivers=a.result||new Driver();\r\n      this.id=a.result?.id;\r\n      }else\r\n      {\r\n        alert(a.errorMessages)\r\n      }\r\n    })\r\n    }\r\n    console.log(this.id);\r\n    \r\n     });\r\n    }\r\n \r\n   ngOnInit(): void {\r\n   }\r\n \r\n   savedrivers(): void {\r\n    console.log(this.DriverForm?.form.value);\r\n    \r\n     if(this.DriverForm?.valid){\r\n      if(!this.id){\r\n        console.log(\"create\")\r\n        console.log()\r\n       \r\n\r\n     this.driverservice.create(this.drivers)\r\n       .subscribe(\r\n         response => {\r\n           console.log(response);\r\n           if(response.isSuccess)\r\n           {\r\n            this.submitted = true;\r\n           \r\n            this.router.navigate(['/drivers']);\r\n           }\r\n           else\r\n           {\r\n            alert(response.errorMessages)\r\n           }\r\n    \r\n\r\n         },\r\n         error => {\r\n           console.log(error);\r\n         });\r\n        }else{\r\n          //update\r\n          console.log(\"update\")\r\n          this.driverservice.update(this.id,this.drivers)\r\n          .subscribe(\r\n            response => {\r\n              console.log(response);\r\n              if(response.isSuccess)\r\n              {\r\n              this.submitted = true;\r\n              this.router.navigate(['/drivers']);\r\n              }else\r\n              {\r\n                alert(response.errorMessages)\r\n              }\r\n            },\r\n            error => {\r\n              console.log(error);\r\n            });\r\n        }\r\n        }else{\r\n         console.log(this.DriverForm);\r\n         \r\n       }\r\n   }\r\n   updatedrivers(){}\r\n   newdrivers(): void {\r\n     this.submitted = false;\r\n \r\n   }\r\n \r\n }\r\n \r\n","<div>\r\n  <div class=\"submit-form\">\r\n    <div *ngIf=\"!submitted\">\r\n\r\n<form #driverForm=\"ngForm\">\r\n    <div class=\"form-group\">\r\n      <label for=\"firstName\">First Name</label>\r\n      <input\r\n        class=\"form-control\"\r\n        id=\"firstName\"\r\n        required\r\n        [(ngModel)]=\"drivers.firstName\"\r\n        name=\"firstName\"\r\n        [ngClass]=\"{'border-red': driverForm.submitted&&driverForm['controls'].firstName.errors?.required}\"\r\n\r\n      />\r\n      <div *ngIf=\"driverForm['controls'].firstName?.touched&&driverForm['controls'].firstName.errors?.required\" class=\"text-danger\">\r\n        First Name is Required\r\n       </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"lastName\">Last Name</label>\r\n      <input\r\n        type=\"text\"\r\n        class=\"form-control\"\r\n        id=\"lastName\"\r\n        required\r\n        [(ngModel)]=\"drivers.lastName\"\r\n        name=\"lastName\"\r\n        [ngClass]=\"{'border-red': driverForm.submitted&&driverForm['controls'].lastName.errors?.required}\"\r\n\r\n      />\r\n      <div *ngIf=\"driverForm['controls'].lastName?.touched&&driverForm['controls'].lastName.errors?.required\" class=\"text-danger\">\r\n        Last Name is Required\r\n       </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"description\">Email</label>\r\n      <input\r\n        class=\"form-control\"\r\n        id=\"email\"\r\n        required\r\n        [(ngModel)]=\"drivers.email\"\r\n        name=\"email\"\r\n        [ngClass]=\"{'border-red': driverForm.submitted&&driverForm['controls'].email.errors?.required}\"\r\n\r\n      />\r\n      <div *ngIf=\"driverForm['controls'].email?.touched&&driverForm['controls'].email.errors?.required\" class=\"text-danger\">\r\n        Email is Required\r\n       </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"phoneNumber\">Phone  Number</label>\r\n      <input\r\n        class=\"form-control\"\r\n        id=\"description\"\r\n        required\r\n        [(ngModel)]=\"drivers.phoneNumber\"\r\n        name=\"phoneNumber\"\r\n        [ngClass]=\"{'border-red': driverForm?.submitted&&driverForm['controls'].phoneNumber.errors?.required}\"\r\n\r\n      />\r\n      <div *ngIf=\"driverForm['controls'].phoneNumber?.touched&&driverForm['controls'].phoneNumber.errors?.required\" class=\"text-danger\">\r\n        Phone Number is Required\r\n       </div>\r\n    </div>\r\n\r\n  <button  type=\"submit\" (click)=\"savedrivers()\" class=\"btn btn-success\">Submit</button>\r\n\r\n</form>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"container\" style=\"margin-top: 20px;\">\r\n  <p-table [value]=\"userList\" [paginator]=\"true\" [rows]=\"10\" [showCurrentPageReport]=\"true\" responsiveLayout=\"scroll\"\r\n      currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\"\r\n      [rowsPerPageOptions]=\"[10,25,50]\">\r\n      <ng-template pTemplate=\"header\">\r\n          <tr>\r\n              <th>Name</th>\r\n              <th>Email</th>\r\n              <th>Mobile</th>\r\n              <th>DOB</th>\r\n              <th>isActive</th>\r\n              <th>Action</th>\r\n          </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\" let-user>\r\n          <tr [ngClass]=\"{'inActive': user.isActive == false}\">\r\n              <td>{{user.name}}</td>\r\n              <td>{{user.email}}</td>\r\n              <td>{{user.mobile}}</td>\r\n              <td>{{user.dob | date:'d/M/yyyy'}}</td>\r\n              <td>{{user.isActive}}</td>\r\n              <td>\r\n                  <a pButton pRipple type=\"button\" [routerLink]=\"['/update-user',user.id]\" icon=\"pi pi-user-edit\"\r\n                      class=\"p-button-rounded\"></a>\r\n                  <a pButton pRipple type=\"button\" (click)=\"remove(user.id)\" style=\"margin-left: 5px;\"\r\n                      icon=\"pi pi-trash\" class=\"p-button-rounded\"></a>\r\n              </td>\r\n          </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\">\r\n          <a [routerLink]=\"['/add-user']\" class=\"btn btn-primary\">Add New</a>\r\n      </ng-template>\r\n  </p-table>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}